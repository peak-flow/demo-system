<ng-template #patientModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="order-modal-title">Patient</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div *ngIf="patientLoading === true" class="spinner"></div>
  <div *ngIf="patientLoading === false" class="modal-body">
    <div class="form" *ngIf="testPatient">
        <div *ngIf="testPatient.patient_id" class="form-group row">
            <label class="col-sm-4 col-form-label" for="patient-id">ID</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" [(ngModel)]="testPatient.patient_id" name="patient-id" disabled/>
            </div>
          </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="first-name">First Name</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.first_name" name="first-name" required/>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="last-name">Last Name</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.last_name" name="last-name" required/>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="dob">Date of Birth</label>
          <div class="col-sm-8">
              <input type="date" class="form-control" [ngModel]="testPatient.dob | date:'yyyy-MM-dd'" (ngModelChange)="testPatient.dob = $event" name="dob" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="gender">Gender</label>
          <div class="col-sm-8">
            <select [(ngModel)]="testPatient.sex" name="gender" class="form-control">
                <option value="M">M</option>
                <option value="F">F</option>
                <option value="U">U</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="addr1">Address 1</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.addr1" name="addr1" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="addr2">Address 2</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.addr2" name="addr2" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="city">City</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.city" name="city" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="state">State</label>
          <div class="col-sm-8">
              <input type="text" maxlength="2" class="form-control" [(ngModel)]="testPatient.state" name="state" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="zip">Zip</label>
          <div class="col-sm-8">
              <input type="text" maxlength="5" class="form-control" [(ngModel)]="testPatient.zip" name="zip" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="country">Country</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.country" name="country" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="phone">Phone</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" [(ngModel)]="testPatient.phone" name="phone" />
          </div>
        </div>
        <div *ngIf="(testPatient.patient_id)" id="patient-actions-update">
          <button id="save-patient" class="btn btn-outline-primary float-right" (click)="updateTestPatient()">Update</button>
        </div>
        <div *ngIf="!(testPatient.patient_id)" id="patient-actions-save">
            <button id="save-patient" class="btn btn-outline-primary float-right" (click)="saveTestPatient()">Save</button>
        </div>
    </div>
  </div>
</ng-template>
